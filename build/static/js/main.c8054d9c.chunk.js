(this.webpackJsonpbantu=this.webpackJsonpbantu||[]).push([[0],{219:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),l=a.n(c),i=a(18),o=a(19),s=a(88),m=a(15),u={coins:[],isLoading:!0};var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"FETCH_COINS_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{coins:t.payload,isLoading:!1});default:return e}},p={coinHistory:{priceUsd:null,date:null},isLoading:!0};var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"FETCH_COINS_HISTORY_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{coinHistory:t.payload,isLoading:!1});default:return e}},E={footPrints:[],isLoading:!0};var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"FETCH_FOOTPRINT_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{footPrints:t.payload,isLoading:!1});default:return e}},g=Object(o.c)({fetchCoinsReducer:d,fetchDailyPriceReducer:h,fetchFootPrintsReducer:f});var v=a(40),y=a(5);a(32);var b=function(){return r.a.createElement("div",{className:"container-fluid border"},r.a.createElement("nav",{className:"container navbar navbar-expand-lg navbar-light "},r.a.createElement("a",{className:"navbar-brand",href:"/"},r.a.createElement("img",{src:"https://static.coincap.io/assets/icons/eos@2x.png",alt:"logo"})),"Bantu",r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"/navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarText"},r.a.createElement("ul",{className:"navbar-nav mx-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/"},"Coins ",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/chart"},"Chart")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/footprint"},"Footprint")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/"},r.a.createElement("i",{className:"fas fa-ellipsis-h"})))))))},C=a(31),O=a.n(C),S=a(54),N=a(21),x=a(22),_=a(25),k=a(24),w=a(26),T=a(220),j=a(221),R=a(222),F=a(226),A=a(223),I=a(224),D=a(225),L=a(23),P=a.n(L),U=function(){return function(e){e({type:"IS_LOADING"}),P.a.get("https://api.coincap.io/v2/assets").then((function(t){e({type:"FETCH_COINS_SUCCESS",payload:t.data})})).catch((function(t){console.log(t),e({type:"FETCH_COINS_ERROR",payload:t.response})}))}},H=new WebSocket("wss://ws.coincap.io/trades/binance"),B=a(89),z=a.n(B),M=a(90),J=(a(17),function(e){Object(_.a)(a,e);var t=Object(k.a)(a);function a(){var e;return Object(N.a)(this,a),(e=t.call(this)).toggle=function(){var t=Object(S.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.id,t.next=3,e.props.fetchDailyPriceAction(n);case 3:e.setState({isOpen:!e.state.isOpen});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.composeChart=function(){var t=e.props.coinHistory,a=[];return t.map((function(e){var t=new Date(e.date).toISOString().split("T")[0].toString();return a.push([[t],e.priceUsd])})),a},e.state={isOpen:!1,coins:{}},e}return Object(x.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchCoinsAction,a=e.handleDataUpdate;t(),a()}},{key:"handleData",value:function(e){var t=this,a=JSON.parse(e),n=this.state.coins,r=n.data.findIndex((function(e){return e.id===a.base}));if(r>-1){var c,l=a.priceUsd,i=n.data[r];c=l>i.priceUsd?"up":l<i.priceUsd?"down":"",n.data[r].priceUsd=a.priceUsd,n.data[r].classn=c}setInterval(Object(S.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({coins:n});case 1:case"end":return e.stop()}}),e)}))),3e3)}},{key:"componentWillReceiveProps",value:function(e){var t=e.coins;this.setState({coins:t})}},{key:"render",value:function(){var e=this,t=this.props,a=t.isLoading,n=t.coins.data;return r.a.createElement("div",{className:"container"},r.a.createElement(z.a,{url:"wss://ws.coincap.io/trades/binance",onMessage:this.handleData.bind(this)}),r.a.createElement("div",{className:"row mt-5 "},r.a.createElement("div",{className:"col-lg-12 col-sm-12 mt-4  "},r.a.createElement("h3",{className:"title-section"},"Top 100 Crypto-currencies by Market Capitalization")),r.a.createElement("div",{className:"col-lg-12 col-sm-12 mt-5"},a?r.a.createElement(T.a,{style:{justifyContent:"center"}},r.a.createElement(j.a,{as:"span",animation:"grow",size:"xl",role:"status","aria-hidden":"true"})):r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Rank"),r.a.createElement("th",null,"Name"),r.a.createElement("th",{style:{textAlign:"right"}},"Market Cap"),r.a.createElement("th",{style:{textAlign:"right"}},"Price"),r.a.createElement("th",{style:{textAlign:"right"}},"Volume (24h)"),r.a.createElement("th",{style:{textAlign:"right"}},"Circulating Supply"),r.a.createElement("th",{style:{textAlign:"right"}},"Change (24h)"))),r.a.createElement("tbody",null,n.map((function(t,a){return r.a.createElement("tr",{key:a,onClick:function(){return e.toggle(t)},className:t.classn},r.a.createElement("td",null,t.rank),r.a.createElement("td",null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("img",{style:{width:"30px",height:"30px",marginRight:"10px"},alt:"icon",src:"https://static.coincap.io/assets/icons/".concat(t.symbol.toLocaleLowerCase(),"@2x.png")}),r.a.createElement("div",null,t.name,r.a.createElement("p",{style:{color:"#b5b8bb",fontSize:"12px",marginBottom:"10px"}},t.symbol)))),r.a.createElement("td",{style:{textAlign:"right"}},r.a.createElement(w.a,{value:t.marketCapUsd,decimalScale:0,displayType:"text",thousandSeparator:!0,prefix:"$ "})),r.a.createElement("td",{style:{textAlign:"right"}},r.a.createElement(w.a,{value:t.priceUsd,decimalScale:2,displayType:"text",thousandSeparator:!0,prefix:"$ "})),r.a.createElement("td",{style:{textAlign:"right"}},r.a.createElement(w.a,{value:t.volumeUsd24Hr,decimalScale:0,displayType:"text",thousandSeparator:!0,suffix:" ".concat(" ",t.symbol)})),r.a.createElement("td",{style:{textAlign:"right"}},r.a.createElement(w.a,{value:t.supply,decimalScale:0,displayType:"text",thousandSeparator:!0,suffix:" ".concat(" ",t.symbol)})),r.a.createElement("td",{className:t.changePercent24Hr>0?"change24-up":"change24-down",style:{textAlign:"right"}},r.a.createElement(w.a,{value:t.changePercent24Hr,decimalScale:3,displayType:"text",thousandSeparator:!0,suffix:" %"})))}))))))),r.a.createElement(F.a,{isOpen:this.state.isOpen,size:"lg"},r.a.createElement(A.a,null,r.a.createElement(M.a,{colors:["#13b2bc","#666"],curve:!0,data:this.props.coinHistory.length>0&&this.composeChart(),prefix:"$",xtitle:"Date",ytitle:"Price"})),r.a.createElement(I.a,null,r.a.createElement(D.a,{color:"primary",style:{backgroundColor:"#13b2bc",borderColor:"#13b2bc"},onClick:this.toggle},"Close"))))}}]),a}(n.Component)),W=Object(i.b)((function(e){return{coins:e.fetchCoinsReducer.coins,isLoading:e.fetchCoinsReducer.isLoading,coinHistory:e.fetchDailyPriceReducer.coinHistory}}),{fetchCoinsAction:U,handleDataUpdate:function(e){return function(t){H.onmessage=function(a){e=JSON.parse(a.data),t({type:"COINS_UPDATE",payload:e})}}},fetchDailyPriceAction:function(e){return function(t){t({type:"IS_LOADING"}),P.a.get("https://api.coincap.io/v2/assets/".concat(e,"/history?interval=d1")).then((function(e){var a=(e.data&&e.data.data.reverse().splice(0,7)).reverse();t({type:"FETCH_COINS_HISTORY_SUCCESS",payload:a})})).catch((function(e){t({type:"FETCH_COINS_HISTORY_ERROR",payload:e.response.data})}))}}})(Object(y.f)(J)),X=function(e){Object(_.a)(a,e);var t=Object(k.a)(a);function a(){var e;return Object(N.a)(this,a),(e=t.call(this)).state={limit:20,isOpen:!1},e}return Object(x.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.fetchFootprintsAction)()}},{key:"render",value:function(){var e=this.props,t=e.footPrints,a=e.isLoading,n=t.data;return console.log(a),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row mt-5 "},r.a.createElement("div",{className:"col-lg-12 col-sm-12 mt-4  "},r.a.createElement("h3",{className:"title-section"},"Foot prints...")),r.a.createElement("div",{className:"col-lg-12 col-sm-12 mt-5"},a?r.a.createElement(T.a,{style:{justifyContent:"center"}},r.a.createElement(j.a,{as:"span",animation:"grow",size:"xl",role:"status","aria-hidden":"true"})):r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Language"),r.a.createElement("th",null,"Platform"),r.a.createElement("th",null,"User Agent"),r.a.createElement("th",null,"IP Address"),r.a.createElement("th",null,"Latitude"),r.a.createElement("th",null,"Longitude"),r.a.createElement("th",null,"City"),r.a.createElement("th",null,"Country"))),r.a.createElement("tbody",null,n.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.language),r.a.createElement("td",null,e.platform),r.a.createElement("td",null,e.user_agent),r.a.createElement("td",null,e.ip_address),r.a.createElement("td",null,e.latitude),r.a.createElement("td",null,e.longitude),r.a.createElement("td",null,e.city),r.a.createElement("td",null,e.country))}))))))))}}]),a}(n.Component),$=Object(i.b)((function(e){return{footPrints:e.fetchFootPrintsReducer.footPrints,isLoading:e.fetchFootPrintsReducer.isLoading}}),{fetchFootprintsAction:function(){return function(e){e({type:"IS_LOADING"}),P.a.get("https://bantu-api.herokuapp.com/footprints/list").then((function(t){e({type:"FETCH_FOOTPRINT_SUCCESS",payload:t.data})})).catch((function(t){console.log(t),e({type:"FETCH_FOOTPRINT_ERROR",payload:t.response})}))}}})(Object(y.f)(X)),G=a(91),V=function(e){Object(_.a)(a,e);var t=Object(k.a)(a);function a(){var e;return Object(N.a)(this,a),(e=t.call(this)).state={limit:20,isOpen:!1,chart:{labels:[],datasets:[{backgroundColor:["#B21F00","#C9DE00","#2FDE00","#00A6B4","#6800B4"],hoverBackgroundColor:["#501800","#4B5000","#175000","#003350","#35014F"],data:[]}]}},e}return Object(x.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.fetchCoinsAction)()}},{key:"render",value:function(){var e=this.props,t=e.coins,a=e.isLoading,n=t.data,c=[],l=[];n&&n.slice(0,5).foreach((function(e,t){l.push(e.name),c.push(e.marketCapUsd)}));var i={labels:l,datasets:[{backgroundColor:["#B21F00","#C9DE00","#2FDE00","#00A6B4","#6800B4"],hoverBackgroundColor:["#501800","#4B5000","#175000","#003350","#35014F"],data:c}]};return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row mt-5 "},r.a.createElement("div",{className:"col-lg-12 col-sm-12 mt-4  "},r.a.createElement("h3",{className:"title-section"},"Top 5 Cryptocurrencies by Market Capitalization")),r.a.createElement("div",{className:"col-lg-12 col-sm-12 mt-5"},a?r.a.createElement(T.a,{style:{justifyContent:"center"}},r.a.createElement(j.a,{as:"span",animation:"grow",size:"xl",role:"status","aria-hidden":"true"})):r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{data:i})))))}}]),a}(n.Component),Y=Object(i.b)((function(e){return{coins:e.fetchCoinsReducer.coins,isLoading:e.fetchCoinsReducer.isLoading}}),{fetchCoinsAction:U})(Object(y.f)(V)),q=function(){return r.a.createElement(v.a,null,r.a.createElement("div",{id:"wrap"},r.a.createElement(b,null),r.a.createElement(y.c,null,r.a.createElement(y.a,{exact:!0,path:"/",component:W}),r.a.createElement(y.a,{exact:!0,path:"/chart",component:Y}),r.a.createElement(y.a,{exact:!0,path:"/footprint",component:$}))))},K=function(){return r.a.createElement(v.a,null,r.a.createElement(y.a,{component:q}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(218);l.a.render(r.a.createElement(i.a,{store:Object(o.e)(g,Object(o.d)(Object(o.a)(s.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()))},r.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},32:function(e,t,a){},93:function(e,t,a){e.exports=a(219)}},[[93,1,2]]]);
//# sourceMappingURL=main.c8054d9c.chunk.js.map